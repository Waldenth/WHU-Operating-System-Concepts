<h2>Step-1</h2>
<div class="answer"> <p>The inode numbers of file1.txt and file2.txt are - 1053017. </p> <p>The inode numbers of file1.txt and file2.txt are same. </p> <p>The contents are the also same of file1.txt and file2.txt.</p> </div>
<h2>Step-2</h2>
<div class="answer"> <p>Modifying file2.txt changes the contents of file1.txt. This is as they are linked to the same inode.</p> </div>
<h2>Step-3</h2>
<div class="answer"> <p>Removing file1.txt still leaves file2.txt around because the reference count of the inode is 2.</p> </div>
<h2>Step-4</h2>
<div class="answer"> <p>The unlink system call is used to remove file2.txt.</p> </div>
<h2>Step-5</h2>
<div class="answer"> <p>The inodes of file3.txt and file4.txt are different as one is a hard link and the other is a soft link. </p> <p>Editing the contents of file4.txt changes the contents of file3.txt. </p> <p>After deleting file3.txt on Linux, editing file4.txt with the vi editor makes it think it is editing a new file.</p> </div>
<h2>Step-6</h2>
<div class="answer"> <p> <b>Sample Output:</b> </p> <p>12$ fortune | tee file1.txt</p> <p>Volley Theory:</p> <p>It is better to have lobbed and lost than never to have lobbed at all.</p> <p>12$ ls -li file1.txt</p> <p>1053017 -rw-rw-r--. 1 user1 user1 87 Dec 2 18:38 file1.txt</p> <p>12$ ln file1.txt file2.txt</p> <p>12$ ls -li file1.txt file2.txt</p> <p>1053017 -rw-rw-r--. 2 user1 user1 87 Dec 2 18:38 file1.txt</p> <p>1053017 -rw-rw-r--. 2 user1 user1 87 Dec 2 18:38 file2.txt</p> <p>12$ vi file2.txt</p> <p>12$ cat file2.txt</p> <p>It is better to have lobbed and lost than never to have lobbed at all.</p> <p>12$ cat file1.txt </p> <p>It is better to have lobbed and lost than never to have lobbed at all.</p> <p>12$ ls -li file1.txt file2.txt </p> <p>1053017 -rw-rw-r--. 2 user1 user1 72 Dec 2 18:38 file1.txt</p> <p>1053017 -rw-rw-r--. 2 user1 user1 72 Dec 2 18:38 file2.txt</p> <p>12$ rm file1.txt</p> <p>12$ ls -li file2.txt</p> <p>1053017 -rw-rw-r--. 1 user1 user1 72 Dec 2 18:38 file2.txt</p> <p>12$ strace rm file2.txt</p> <p>execve("/usr/bin/rm", ["rm", "file2.txt"], [/* 71 vars */]) = 0</p> <p>brk(0) = 0xe15000</p> <p>mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f1ffe7f9000</p> <p>access("/etc/ld.so.preload", R_OK) = -1 ENOENT (No such file or directory)</p> <p>open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3</p> <p>fstat(3, {st_mode=S_IFREG|0644, st_size=122428, ...}) = 0</p> <p>mmap(NULL, 122428, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f1ffe7db000</p> <p>close(3) = 0</p> <p>open("/lib64/libc.so.6", O_RDONLY|O_CLOEXEC) = 3</p> <p>read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0p\36\"e=\0\0\0"..., 832) = 832</p> <p>fstat(3, {st_mode=S_IFREG|0755, st_size=2096496, ...}) = 0</p> <p>mmap(0x3d65200000, 3920480, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x3d65200000</p> <p>mprotect(0x3d653b4000, 2093056, PROT_NONE) = 0</p> <p>mmap(0x3d655b3000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1b3000) = 0x3d655b3000</p> <p>mmap(0x3d655b9000, 16992, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x3d655b9000</p> <p>close(3) = 0</p> <p>mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f1ffe7da000</p> <p>mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f1ffe7d8000</p> <p>arch_prctl(ARCH_SET_FS, 0x7f1ffe7d8740) = 0</p> <p>mprotect(0x60d000, 4096, PROT_READ) = 0</p> <p>mprotect(0x3d655b3000, 16384, PROT_READ) = 0</p> <p>mprotect(0x3d64c1f000, 4096, PROT_READ) = 0</p> <p>munmap(0x7f1ffe7db000, 122428) = 0</p> <p>brk(0) = 0xe15000</p> <p>brk(0xe36000) = 0xe36000</p> <p>brk(0) = 0xe36000</p> <p>open("/usr/lib/locale/locale-archive",O_RDONLY|O_CLOEXEC)=3</p> <p>fstat(3, {st_mode=S_IFREG|0644, st_size=106070960, ...}) =0</p> <p>mmap(NULL, 106070960, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f1ff82af000</p> <p> </div>
<h2>Step-7</h2>
<div class="answer">close(3) = 0</p> <p>ioctl(0, SNDCTL_TMR_TIMEBASE or SNDRV_TIMER_IOCTL_NEXT_DEVICE or TCGETS, {B38400 opost isig icanon echo ...}) = 0</p> <p>newfstatat(AT_FDCWD, "file2.txt", {st_mode=S_IFREG|0664, st_size=72, ...}, AT_SYMLINK_NOFOLLOW) = 0</p> <p>geteuid() = 1000</p> <p>newfstatat(AT_FDCWD, "file2.txt", {st_mode=S_IFREG|0664, st_size=72, ...}, AT_SYMLINK_NOFOLLOW) = 0</p> <p>faccessat(AT_FDCWD, "file2.txt", W_OK) = 0</p> <p>unlinkat(AT_FDCWD, "file2.txt", 0) = 0</p> <p>lseek(0, 0, SEEK_CUR) = -1 ESPIPE (Illegal seek)</p> <p>close(0) = 0</p> <p>close(1) = 0</p> <p>close(2) = 0</p> <p>exit_group(0) = ?</p> <p>+++ exited with 0 +++</p> <p>12$ fortune | tee file3.txt</p> <p>"The question is rather: if we ever succeed in making a mind 'of nuts and</p> <p>bolts', how will we know we have succeeded?</p> <p>-- Fergal Toomey</p> <p>"It will tell us."</p> <p>-- Barry Kort</p> <p>12$ ln -s file3.txt file4.txt</p> <p>12$ ls -li file*.txt</p> <p>1051337 -rw-rw-r--. 1 user1 user1 169 Dec 2 18:40 file3.txt</p> <p>1053017 lrwxrwxrwx. 1 user1 user1 9 Dec 2 18:41 file4.txt -> file3.txt</p> <p>12$ vi file4.txt</p> <p>2 files to edit</p> <p>12$ cat file4.txt</p> <p>bolts', how will we know we have succeeded?</p> <p>-- Fergal Toomey</p> <p>"It will tell us."</p> <p>-- Barry Kort</p> <p>12$ cat file3.txt</p> <p>bolts', how will we know we have succeeded?</p> <p>-- Fergal Toomey</p> <p>"It will tell us."</p> <p>-- Barry Kort</p> <p>12$ rm file3.txt</p> <p>12$ vi file4.txt </p> <p>12$ ls -li file4.txt </p> <p>1053017 lrwxrwxrwx. 1 user1 user1 9 Dec 2 18:41 file4.txt -> file3.txt</p></div>
