<h2>Step-1</h2>
<div class="answer"> <p> <b>Program Plan:</b> </p> <p>• Define a random floating point number randf for calculating the value in range[-1,1].</p> <p>• Define the method calc_num which takes one value as an argument and calculate the number of randomly chosen points that lie inside a circle with radius equal to 1.0. </p> <p>• Define the main method from where the execution of the program begins.</p> <p>• Initialize the random number generator with the current time.</p> <p>• Calculate the number of random points that are inside the circle.</p> <p>• Calculate the value of PI and print it out.</p> </div>
<h2>Step-2</h2>
<div class="answer"> <p> <b>Program:</b> </p> <p>/*********************************************************** Program for calculating the value of pie using the * * technique OpenMP for parallelize the generation of * * points. * **********************************************************/</p> <p>Include a header file for performing the operation. </p> <p>#include <omp.h></p> <p>#include <stdio.h></p> <p>#include <stdlib.h></p> <p>#include <time.h></p> <p>// The number of times the Monte Carlo technique</p> <p>// will be used</p> <p>const int COUNT <b>=</b> 10000<b>;</b></p> <p>// The number of times that the randomly chosen</p> <p>// point lies inside the circle</p> <p>static int num<b>;</b></p> <p>Declare the method randf which takes void as arguments and calculate a random floating point number in the range [-1, 1]. </p> <p>float randf<b>(</b>void<b>);</b></p> <p>Declare the method calc_num which takes one value as an arguments and the start function for the thread that determines the number of points that lie inside the circle.</p> <p>void calc_num<b>(</b>void<b>);</b></p> <p>Define the main method from where the execution of the program begins.</p> <p>int main<b>(</b>void<b>)</b></p> <p> <b>{</b> </p> <p> // Initialize the random number generator</p> <p> // with the current time</p> <p> srand<b>(</b>time<b>(</b><b>NULL</b><b>));</b></p> <p> // Zero out the number of points that lie</p> <p> // in the circle</p> <p> num <b>=</b> 0<b>;</b></p> <p> // Calculate the number of random points that</p> <p> // are inside the circle</p> <p> calc_num<b>();</b></p> <p> // Calculate the value of PI and print it out</p> <p> printf<b>(</b>"PI = %f\n"<b>,</b> 4.0f <b>*</b> num <b>/</b> COUNT<b>);</b></p> <p> <b>return</b> 0<b>;</b></p> <p> <b>}</b> </p> <p>Define a random floating point number randf for calculating the value in range[-1,1].</p> <p>float randf<b>(</b>void<b>)</b></p> <p> <b>{</b> </p> <p> <b>return</b> <b>((</b>float<b>)</b> rand<b>())</b> <b>/</b> RAND_MAX <b>*</b> 2.0f <b>-</b> 1.0f<b>;</b></p> <p> <b>}</b> </p> <p>Define the method calc_num which takes one value as an argument and calculate the number of randomly chosen points that lie inside a circle with radius equal to 1.0. </p> <p>void calc_num<b>(</b>void<b>)</b></p> <p> <b>{</b> </p> <p> // Count how many times the points have been chosen</p> <p> int index<b>;</b></p> <p> // Tell OpenMP that the for loop is to</p> <p> // be executed in parallel pragma omp parallel for Loop </p> <p> // for COUNT times</p> <p> <b>for</b> <b>(</b>index <b>=</b> 0<b>;</b> index <b><</b> COUNT<b>;</b> index<b>++)</b> </p> <p> <b>{</b></p> <p> // Get a random x co-ordinate</p> <p> float x <b>=</b> randf<b>();</b></p> <p> // Get a random x co-ordinate</p> <p> float y <b>=</b> randf<b>();</b></p> <p> // Is the square of the length of line between</p> <p> // (x, y) and the origin less than or equal to</p> <p> </div>
<h2>Step-3</h2>
<div class="answer"> // the square of the radius</p> <p> <b>if</b> <b>(</b>x <b>*</b> x <b>+</b> y <b>*</b> y <b><=</b> 1.0f<b>)</b></p> <p> num<b>++;</b></p> <p> <b>}</b></p> <p> <b>}</b> </p> </div>
<h2>Step-4</h2>
<div class="answer"> <p> <b>Sample Output:</b> </p> <p>12:39 4$ ./13258-4-23PP </p> <p>PI = 3.144800</p> <p>12:39 4$ ./13258-4-23PP </p> <p>PI = 3.134000</p> <p>12:39 4$ ./13258-4-23PP </p> <p>PI = 3.132400</p> <p>12:39 4$ ./13258-4-23PP </p> <p>PI = 3.134000</p></div>
