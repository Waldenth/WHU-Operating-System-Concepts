<h2>Step-1</h2>
<div class="answer"> <p> <b>a. Race condition:</b> </p> <p>The situation of numerous processes concurrently accessing and operating the same data and execution result is based on specific order in which access takes place is referred as race condition.</p> <p>Here, the variable “available_resources” is data which is accessed and operated concurrently.</p> <p>• The variable “available_resources” is data which is not synchronized between the threads. The value may not be up to date when one thread decreases this “available_resources” variable value.</p> <p>Thus, the “available_resources” variable is act as data which involved in race condition.</p> </div>
<h2>Step-2</h2>
<div class="answer"> <p> <b>b. Locations in the code where the race condition occurs:</b> </p> <p>In the code, the race condition occurs in the two statements. There are,</p> <p>• The code that decrement the available resources in decrease_count() method. The statement in this method is,</p> <p>o available_resource -= count;</p> <p>• The code that increment the available resources in decrease_count() method. The statement in this method is,</p> <p>o available_resource += count;</p> </div>
<h2>Step-3</h2>
<div class="answer"> <p> <b>c. Fix the race condition using semaphore:</b> </p> <p>The semaphore is used to fix the race condition. </p> <p>• Replace the increment and decrement operations by semaphore increment “signal()” method and semaphore decrement operations “wait()” method.</p> <p>• Then, the code is given below:</p> <p>#define MAX RESOURCES 5</p> <p>int available_resources = MAX RESOURCES;</p> <p>When a process wants to get a number of resources, it invokes the decrease_count() function using the wait() semaphore.</p> <p>/* Decrease the available resources by count resources</p> <p>and return 0, if sufficient resources available. */</p> <p>int decrease_count(int count) </p> <p>{</p> <p>//Decrement the number of resource using wait()</p> <p>wait(available_resources)</p> <p>{</p> <p>while (available_resources <= 0)</p> <p>available_resources -= count;</p> <p>}</p> <p>return 0;</p> <p>}</p> <p>When a process wants to return a number of resources, it calls the increase_count() function using the signal() semaphore.</p> <p>/* increase available_resources by count */</p> <p>int increase_count(int count) </p> <p>{</p> <p>//Increment the number of resource using signal()</p> <p>signal(available_resources)</p> <p>{</p> <p>// Increment the available resources value</p> <p>available_resources += count;</p> <p>}</p> <p>// Return statement</p> <p>return 0;</p> <p>}</p></div>
