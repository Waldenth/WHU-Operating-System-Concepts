<h2>Step-1</h2>
<div class="answer"> <p> <b>Program Plan:</b> </p> <p>• Make a startup function to initialize random generator with current time.</p> <p>• Method calc_num<b>()</b>is used to calculate random number of points.</p> <p>• openMap is used for parallel execution.</p> <p>• Randf() return the random number in the range [-1,1]</p> </div>
<h2>Step-2</h2>
<div class="answer"> <p> <b>Program:</b> </p> <p>/***********************************************************Program to examine the value of pie using MontoCarlo *</p> <p>*technique where OpenMP is also used. * </p> <p>**********************************************************/</p> <p>#include <omp.h></p> <p>#include <stdio.h></p> <p>#include <stdlib.h></p> <p>#include <time.h></p> <p>// The number of times the Monte Carlo technique</p> <p>// will be used</p> <p>const int COUNT <b>=</b> 1000000<b>;</b></p> <p>// The number of times that the randomly chosen</p> <p>// point lies inside the circle</p> <p>static int num<b>;</b></p> <p>// Calculate a random floating point number</p> <p>// in the range [-1, 1]</p> <p>float randf<b>(</b>void<b>);</b></p> <p>// The function that determines the number of</p> <p>// points that lie inside the circle</p> <p>void calc_num<b>(</b>void<b>);</b></p> <p>Initialize the main() as a startup function which is used to call Srand() function and calc_num() function. The function Srand()is used to generate random number generator and calc_num()is used to calculate random chosen points.</p> <p>int main<b>(</b>void<b>)</b></p> <p> <b>{</b> </p> <p> // Initialize the random number generator</p> <p> // with the current time</p> <p> srand<b>(</b>time<b>(</b><b>NULL</b><b>));</b></p> <p> // Zero out the number of points that lie</p> <p> // in the circle</p> <p> num <b>=</b> 0<b>;</b></p> <p> // Calculate the number of random points that</p> <p> // are inside the circle</p> <p> calc_num<b>();</b></p> <p> // Calculate the value of PI and print it out</p> <p> printf<b>(</b>"PI = %f\n"<b>,</b> 4.0f <b>*</b> num <b>/</b> COUNT<b>);</b></p> <p> <b>return</b> 0<b>;</b></p> <p> <b>}</b> </p> <p>Calculate a random floating point number in the range[-1, 1].</p> <p> </p> <p>float randf<b>(</b>void<b>)</b></p> <p> <b>{</b> </p> <p> <b>return</b> <b>((</b>float<b>)</b> rand<b>())</b> <b>/</b> RAND_MAX <b>*</b> 2.0f <b>-</b> 1.0f<b>;</b></p> <p> <b>}</b> </p> <p>Calculate the number of randomly chosen points that lie inside a circle with radius equal to 1.0 .</p> <p>void calc_num<b>(</b>void<b>)</b></p> <p> <b>{</b> </p> <p> // Count how many times the points have been chosen</p> <p> int index<b>;</b></p> <p>// Tell OpenMP that the for loop is to</p> <p>// be executed in parallel</p> <p> // pragma omp parallel for Loop for COUNT times</p> <p> <b>for</b> <b>(</b>index <b>=</b> 0<b>;</b> index <b><</b> COUNT<b>;</b> index<b>++)</b> </p> <p> <b> {</b> </p> <p> // Get a random x co-ordinate</p> <p> float x <b>=</b> randf<b>();</b></p> <p> // Get a random x co-ordinate</p> <p> float y <b>=</b> randf<b>();</b></p> <p> // Is the square of the length of line between</p> <p> // (x, y) and the origin less than or equal to</p> <p> // the square of the radius</p> <p> <b>if</b> <b>(</b>x <b>*</b> x <b>+</b> y <b>*</b> y <b><=</b> 1.0f<b>)</b></p> <p> #pragma omp critical</p> <p> <b>{</b></p> <p> num<b>++;</b></p> <p> <b>}</b></p> <p> <b>}</b></p> <p> <b>}</b> </p> <p> <b> </div>
<h2>Step-3</h2>
<div class="answer">Sample </b> <b>Output:</b> </p> <p>18:38 5$ ./13258-5-40PP </p> <p>PI = 3.142260</p> <p>18:38 5$ ./13258-5-40PP</p> <p>PI = 3.137600</p> <p>18:38 5$ ./13258-5-40PP</p> <p>PI = 3.142444</p> <p>18:38 5$ ./13258-5-40PP</p> <p>PI = 3.138684</p></div>
