<h2>Step-1</h2>
<div class="answer"> <p>A situation where several processes access and manipulate the same data concurrently and the outcome of the execution depends on the particular order in which the access takes place, is called a race condition.</p> </div>
<h2>Step-2</h2>
<div class="answer"> <p>Let us consider a shared bank account existing between a husband and wife and they have shared balance amount sharedBalance = 1000 </p> <p>The two transactions will be started by both husband and wife simultaneously</p> <table border="1" style="border-collapse:collapse;"> <tr> <td> <p>Husband</p> </td> <td> <p>Wife</p> </td> </tr> <tr> <td> <p>withdraw()</p> </td> <td> <p>deposit()</p> </td> </tr> <tr> <td> <p>husbandT1: withdraw 500 from sharedAccount </p> </td> <td> <p>wifeT1: deposit 500 into shared account</p> </td> </tr> <tr> <td> <p>sharedBalance = sharedBalance – amountWithdrawn from sharedAccount</p> </td> <td> <p>SharedBalance = sharedBalance+amountDeposit</p> </td> </tr> <tr> <td> <p>sharedBalance = 1000 – 500 </p> <p> = 500</p> </td> <td> <p>sharedBalance = 1000 + 500 </p> <p> = 1500</p> </td> </tr> </table> </div>
<h2>Step-3</h2>
<div class="answer"> <p>Here sharedBalane is a resource data to be shared by both accounts simultaneously.</p> <p>Due to the access of the shared data at the same time, inconsistency in the balance occurred. This is called updation anomoly.</p> </div>
<h2>Step-4</h2>
<div class="answer"> <p> <b>Prevent from race condition</b> </p> <p>Before acquiring the shared data we need to acquire a lock on shared data. After completion of withdrawal from shared balance, then release the lock. Then the next sequence of instruction like depositing into account will be started.</p> <table border="1" style="border-collapse:collapse;"> <tr> <td> <p>Husband</p> </td> <td> <p>Wife</p> </td> </tr> <tr> <td> <p>withdraw()</p> <p> <b>Lock():</b> </p> <p>husbandT1: withdraw 500 </p> <p>From shared Account </p> <p>shared Balance = </p> <p>sharedBalance – amountWithdrawn</p> <p>sharedBalance =1000-500</p> <p> =500 </p> <p> <b>release():</b> </p> </td> <td> <p>deposit()</p> <p> <b>lock()</b> </p> <p>wifeT1:</p> <p>deposit 500 into sharedAccount</p> <p>sharedBalance = sharedBalance + amountDeposit </p> <p>sharedBalance = 500+50 = 1000</p> <p> <b>release():</b> </p> </td> </tr> </table></div>
