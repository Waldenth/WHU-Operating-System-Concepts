<h2>Step-1</h2>
<div class="answer"> <p>A lock that makes threads of a process enter into wait condition, while searching for availability of desired lock is known as a <b>spinlock</b>. </p> <p> <b>Mutual exclusion (mutex):</b> When any process is already present in its critical section and the other process wants to enter its critical section but cannot enter; then the mutual exclusion is achieved.</p> </div>
<h2>Step-2</h2>
<div class="answer"> <p>• A lock can easily be replaced by another type of lock, just by changing the lock variable.</p> <p>• Spinlocks can be used for short periods only; they typically avoid or do not allow the threads to sleep. </p> <p>• Whereas, a mutex lock is totally opposite of spinlock. It allows long spinning loops, which means threads are allowed to sleep in the wait queue until the lock gets released by the current thread.</p> </div>
<h2>Step-3</h2>
<div class="answer"> <p>Given below is a piece of code that illustrates the normal switching among spinlock and mutex lock while undergoing a program:</p> <p>while(Lock_Obj.dest != Lock_Obj.compare) </p> <p>{</p> <p> if(HasThreasholdReached()) </p> <p> {</p> <p> if(n_iterations + YIELD_ITERATION >= </p> <p> MAX_SLEEP_ITERATION) </p> <p> pthread_mutex_init(&mutex, NULL);</p> <p> Sleep(0); </p> <p> }</p> <p> else</p> <p> {</p> <p> pthread_spin_init(&spinlock, 0);</p> <p> SwitchToThread();</p> <p> } </p> <p>}</p> </div>
<h2>Step-4</h2>
<div class="answer"> <p>• Assuming the time taken for context switching will be <i>T</i>. The code has few variables that work under “if-else” condition. </p> <p>• If the total time taken to make a switch or locate available lock takes longer than the <b>“</b><b>max_sleep_iteration</b><b>”</b> time, then the thread is allocated to a mutex lock. And the reverse is allocated with the spinlock.</p> <p>• The upper bound for holding a spinlock must be less than double of T =<img src="https://media.cheggcdn.com/media/cd5/s48x27/cd559918-7037-4ccf-8489-746b682c30d3/13258-5-18E-i1.png" /> because if a spinlock is waited for a longer period of time more than T, then it would be faster to put the thread to sleep which requires one context switch. Then, to awaken it will require a second context switch.</p> </div>
<h2>Step-5</h2>
<div class="answer"> <p> <b>Hence, the upper bound for holding a spin lock should be</b> <b> <img src="https://media.cheggcdn.com/media/857/s48x27/857b1ee9-a730-48fd-bc6a-9e2c15c8d0fe/13258-5-18E-i2.png" /> </b> <b>.</b> </p></div>
