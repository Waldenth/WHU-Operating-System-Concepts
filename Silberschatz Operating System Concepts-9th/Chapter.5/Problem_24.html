<h2>Step-1</h2>
<div class="answer"> <p> <b>Parent and child Thread.</b> </p> <p>To get a value generated by the child thread to the parent thread sooner it is generated is done by sending the value to the class handling the child thread; as reference argument. Any change made in the receiving array is reflected in the original array. Hence sooner the child thread generates a value it is passed to the parent.</p> <p>The modified program is given below:</p> <p>// class for generating series</p> <p>public class Fibonacci</p> <p>{</p> <p>The constructor declares an array of size TermCount. It allocates the first two terms and starts the child thread to get remaining values.</p> <p> // constructor</p> <p> Fibonacci(int TermsCount)</p> <p> {</p> <p> // array to store the fibonacci terms</p> <p> int[] FibTerms = new int[TermsCount];</p> <p> </p> <p>Assign the first two values.</p> <p> // assign first two default values</p> <p> FibTerms[0] = 1;</p> <p> FibTerms[1] = 2;</p> <p> </p> <p> // create object of the child class</p> <p> ChildClass child = new ChildClass(FibTerms);</p> <p> </p> <p>Start the child thread.</p> <p> // start thread of the child class</p> <p> child.start();</p> <p> </p> <p> // starting index</p> <p> int from = 0;</p> <p> </p> <p>Loop is executed to get the terms from the child class.</p> <p> // loop till series is generated</p> <p> while(from < FibTerms.length)</p> <p> {</p> <p> // get the index of the child</p> <p> int to = child.getIndex();</p> <p> </p> <p>For loop to display the fibonacci series generated by the child.</p> <p>// loop to display the series elements from beginning to end.</p> <p>for(int seriesLoop = from; seriesLoop <= to; seriesLoop++)</p> <p>{</p> <p>System.out.println(" " + FibTerms[seriesLoop]);</p> <p> }</p> <p> </p> <p> from = to + 1;</p> <p> }</p> <p> }</p> <p>The main function fires the constructor to initiate the child thread.</p> <p>// main function to fire constructor and start execution</p> <p> public static void main(String[] args)</p> <p> {</p> <p> // fire the constructor</p> <p> new Fibonacci(10); </p> <p> }</p> <p> </p> <p>The class child thread recieves the array as pass by reference and generates the fibonacci series in it.</p> <p> // sub class to generate child thread</p> <p> class ChildClass extends Thread {</p> <p> </p> <p> // array to make a copy of the original</p> <p> private int[] FibTerms;</p> <p> </p> <p> // to store the index of the array</p> <p> private int index;</p> <p> </p> <p>Constructor to copy the generated series element to current object this.</p> <p> // constructor of the child class</p> <p> ChildClass(int[] FibTerms)</p> <p> {</p> <p> // copy the fibonacci term</p> <p> this.FibTerms = FibTerms;</p> <p> index = 2;</p> <p> }</p> <p> </p> <p> // function to get the last index filled.</p> <p> int getIndex()</p> <p> {</p> <p> return index;</p> <p> }</p> <p>Run function is executed as soon as a thread is called.</p> <p> // to run the thread</p> <p> public void run()</p> <p> {</p> <p>For loop to generate the fibonacci series.</p> <p> // loop to generate the series</p> <p>for(int seriesLoop = 2; seriesLoop < FibTerms.length; seriesLoop++)</p> <p>{</p> <p> // generate the term</p> <p>FibTerms[ seriesLoop ] = FibTerms[ seriesLoop – 2 ] + FibTerms[ seriesLoop – 1 ];</p> <p> </p> <p> // assign value to index of the array</p> <p> index = seriesLoop;</p> <p> }</p> <p> }</p> <p> }</p> <p>}</p> </div>
<h2>Step-2</h2>
<div class="answer"> <p> <b>Sample Output:</b> </p> <p> 1</p> <p> <b> </b>2</p> <p> 3</p> <p> 5</p> <p> 8</p> <p> 13</p> <p> 21</p> <p> 34</p> <p> 55</p> <p> 89</p></div>
